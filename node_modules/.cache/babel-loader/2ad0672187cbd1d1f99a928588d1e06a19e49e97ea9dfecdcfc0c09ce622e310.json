{"ast":null,"code":"import * as THREE from \"three\";\n//import animate from \"./animate\";\n// 初始化场景\nconst scene = new THREE.Scene();\n\n// // 场景天空盒\n// const textureCubeLoader = new THREE.CubeTextureLoader().setPath(\"./textures/\");\n// const textureCube = textureCubeLoader.load([\n//   \"1.jpg\",\n//   \"2.jpg\",\n//   \"3.jpg\",\n//   \"4.jpg\",\n//   \"5.jpg\",\n//   \"6.jpg\",\n// ]);\n\n// 初始化渲染器\nconst renderer = new THREE.WebGLRenderer({\n  // 抗锯齿\n  antialias: true\n  // logarithmicDepthBuffer: true,\n});\n// 设置渲染尺寸大小\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.shadowMap.enabled = true;\nimport { EXRLoader } from 'three/examples/jsm/loaders/EXRLoader.js';\nconst pmremGenerator = new THREE.PMREMGenerator(renderer);\npmremGenerator.compileEquirectangularShader();\nconst exrLoader = new EXRLoader();\nexrLoader.load('./textures/the_sky_is_on_fire_4k.exr', function (texture) {\n  const envMap = pmremGenerator.fromEquirectangular(texture).texture;\n\n  // 释放原始纹理和 PMREMGenerator\n  texture.dispose();\n  pmremGenerator.dispose();\n\n  // 设置场景的环境贴图和背景\n  scene.environment = envMap;\n  scene.background = envMap;\n\n  // 在加载完成后添加您的场景对象\n  // ...\n\n  // 开始渲染循环\n  // animate();\n});\n\n// scene.background = textureCube;\n// scene.environment = textureCube;\n\nexport default scene;","map":{"version":3,"names":["THREE","scene","Scene","renderer","WebGLRenderer","antialias","setSize","window","innerWidth","innerHeight","shadowMap","enabled","EXRLoader","pmremGenerator","PMREMGenerator","compileEquirectangularShader","exrLoader","load","texture","envMap","fromEquirectangular","dispose","environment","background"],"sources":["E:/three.js/three.js-demo/three-city/city/src/three/scene.js"],"sourcesContent":["import * as THREE from \"three\";\r\n//import animate from \"./animate\";\r\n// 初始化场景\r\nconst scene = new THREE.Scene();\r\n\r\n// // 场景天空盒\r\n// const textureCubeLoader = new THREE.CubeTextureLoader().setPath(\"./textures/\");\r\n// const textureCube = textureCubeLoader.load([\r\n//   \"1.jpg\",\r\n//   \"2.jpg\",\r\n//   \"3.jpg\",\r\n//   \"4.jpg\",\r\n//   \"5.jpg\",\r\n//   \"6.jpg\",\r\n// ]);\r\n\r\n// 初始化渲染器\r\nconst renderer = new THREE.WebGLRenderer({\r\n  // 抗锯齿\r\n  antialias: true,\r\n  // logarithmicDepthBuffer: true,\r\n});\r\n// 设置渲染尺寸大小\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\nrenderer.shadowMap.enabled = true;\r\n\r\n\r\nimport { EXRLoader } from 'three/examples/jsm/loaders/EXRLoader.js';\r\nconst pmremGenerator = new THREE.PMREMGenerator(renderer);\r\npmremGenerator.compileEquirectangularShader();\r\n\r\nconst exrLoader = new EXRLoader();\r\n\r\nexrLoader.load('./textures/the_sky_is_on_fire_4k.exr', function (texture) {\r\n  const envMap = pmremGenerator.fromEquirectangular(texture).texture;\r\n\r\n  // 释放原始纹理和 PMREMGenerator\r\n  texture.dispose();\r\n  pmremGenerator.dispose();\r\n\r\n  // 设置场景的环境贴图和背景\r\n  scene.environment = envMap;\r\n  scene.background = envMap;\r\n\r\n  // 在加载完成后添加您的场景对象\r\n  // ...\r\n  \r\n  // 开始渲染循环\r\n // animate();\r\n});\r\n\r\n\r\n\r\n// scene.background = textureCube;\r\n// scene.environment = textureCube;\r\n\r\nexport default scene;\r\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B;AACA;AACA,MAAMC,KAAK,GAAG,IAAID,KAAK,CAACE,KAAK,CAAC,CAAC;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,QAAQ,GAAG,IAAIH,KAAK,CAACI,aAAa,CAAC;EACvC;EACAC,SAAS,EAAE;EACX;AACF,CAAC,CAAC;AACF;AACAF,QAAQ,CAACG,OAAO,CAACC,MAAM,CAACC,UAAU,EAAED,MAAM,CAACE,WAAW,CAAC;AACvDN,QAAQ,CAACO,SAAS,CAACC,OAAO,GAAG,IAAI;AAGjC,SAASC,SAAS,QAAQ,yCAAyC;AACnE,MAAMC,cAAc,GAAG,IAAIb,KAAK,CAACc,cAAc,CAACX,QAAQ,CAAC;AACzDU,cAAc,CAACE,4BAA4B,CAAC,CAAC;AAE7C,MAAMC,SAAS,GAAG,IAAIJ,SAAS,CAAC,CAAC;AAEjCI,SAAS,CAACC,IAAI,CAAC,sCAAsC,EAAE,UAAUC,OAAO,EAAE;EACxE,MAAMC,MAAM,GAAGN,cAAc,CAACO,mBAAmB,CAACF,OAAO,CAAC,CAACA,OAAO;;EAElE;EACAA,OAAO,CAACG,OAAO,CAAC,CAAC;EACjBR,cAAc,CAACQ,OAAO,CAAC,CAAC;;EAExB;EACApB,KAAK,CAACqB,WAAW,GAAGH,MAAM;EAC1BlB,KAAK,CAACsB,UAAU,GAAGJ,MAAM;;EAEzB;EACA;;EAEA;EACD;AACD,CAAC,CAAC;;AAIF;AACA;;AAEA,eAAelB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
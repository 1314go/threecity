{"ast":null,"code":"import * as THREE from \"three\";\nimport gsap from \"gsap\";\nimport { Water } from \"three/examples/jsm/objects/Water2.js\";\nexport default class Ocean {\n  constructor(radius = 50) {\n    // 创建水平\n    this.waterGeometry = new THREE.CircleGeometry(radius, 32);\n    this.water = new Water(this.waterGeometry, {\n      textureWidth: 1024,\n      textureHeight: 1024,\n      color: 0x08dbea,\n      flowDirection: new THREE.Vector2(1, 1),\n      scale: 100\n    });\n    this.water.position.y = 0;\n    this.water.rotation.x = -Math.PI / 2;\n    this.mesh = this.water;\n    this.water.renderOrder = -1;\n    修改水面的颜色;\n    console.log(this.water.material.fragmentShader);\n    // this.water.material.fragmentShader =\n    //   this.water.material.fragmentShader.replace(\n    //     \"gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\",\n    //     `\n    //     gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\n    //     gl_FragColor = mix( gl_FragColor, vec4( 0.05, 0.3, 0.7, 1.0 ), vToEye.z*0.0005+0.5 );\n\n    //     `\n    //   );\n  }\n}","map":{"version":3,"names":["THREE","gsap","Water","Ocean","constructor","radius","waterGeometry","CircleGeometry","water","textureWidth","textureHeight","color","flowDirection","Vector2","scale","position","y","rotation","x","Math","PI","mesh","renderOrder","修改水面的颜色","console","log","material","fragmentShader"],"sources":["E:/three.js/three.js-demo/three-city/city/src/three/mesh/Ocean.js"],"sourcesContent":["import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\nimport { Water } from \"three/examples/jsm/objects/Water2.js\";\r\n\r\nexport default class Ocean {\r\n  constructor(radius = 50) {\r\n    // 创建水平\r\n    this.waterGeometry = new THREE.CircleGeometry(radius, 32);\r\n    this.water = new Water(this.waterGeometry, {\r\n      textureWidth: 1024,\r\n      textureHeight: 1024,\r\n      color: 0x08dbea,\r\n      flowDirection: new THREE.Vector2(1, 1),\r\n      scale: 100,\r\n    });\r\n    this.water.position.y = 0;\r\n    this.water.rotation.x = -Math.PI / 2;\r\n    this.mesh = this.water;\r\n    this.water.renderOrder = -1;\r\n\r\n    修改水面的颜色\r\n    console.log(this.water.material.fragmentShader);\r\n    // this.water.material.fragmentShader =\r\n    //   this.water.material.fragmentShader.replace(\r\n    //     \"gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\",\r\n    //     `\r\n    //     gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\r\n    //     gl_FragColor = mix( gl_FragColor, vec4( 0.05, 0.3, 0.7, 1.0 ), vToEye.z*0.0005+0.5 );\r\n        \r\n    //     `\r\n    //   );\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,IAAI,MAAM,MAAM;AACvB,SAASC,KAAK,QAAQ,sCAAsC;AAE5D,eAAe,MAAMC,KAAK,CAAC;EACzBC,WAAWA,CAACC,MAAM,GAAG,EAAE,EAAE;IACvB;IACA,IAAI,CAACC,aAAa,GAAG,IAAIN,KAAK,CAACO,cAAc,CAACF,MAAM,EAAE,EAAE,CAAC;IACzD,IAAI,CAACG,KAAK,GAAG,IAAIN,KAAK,CAAC,IAAI,CAACI,aAAa,EAAE;MACzCG,YAAY,EAAE,IAAI;MAClBC,aAAa,EAAE,IAAI;MACnBC,KAAK,EAAE,QAAQ;MACfC,aAAa,EAAE,IAAIZ,KAAK,CAACa,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;MACtCC,KAAK,EAAE;IACT,CAAC,CAAC;IACF,IAAI,CAACN,KAAK,CAACO,QAAQ,CAACC,CAAC,GAAG,CAAC;IACzB,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACC,CAAC,GAAG,CAACC,IAAI,CAACC,EAAE,GAAG,CAAC;IACpC,IAAI,CAACC,IAAI,GAAG,IAAI,CAACb,KAAK;IACtB,IAAI,CAACA,KAAK,CAACc,WAAW,GAAG,CAAC,CAAC;IAE3BC,OAAO;IACPC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,KAAK,CAACkB,QAAQ,CAACC,cAAc,CAAC;IAC/C;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
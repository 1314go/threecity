{"ast":null,"code":"import * as THREE from \"three\";\nimport gsap from \"gsap\";\nexport default class FlyLine {\n  constructor() {\n    let linePoints = [new THREE.Vector3(0, 0, 0), new THREE.Vector3(5, 4, 0), new THREE.Vector3(10, 0, 0)];\n    // 1/创建曲线\n    this.lineCurve = new THREE.CatmullRomCurve3(linePoints);\n    // 2/根据曲线生成管道几何体\n    this.geometry = new THREE.BufferGeometry(this.lineCurve, 100, 0.4, 2, false);\n    // 3/设置飞线材质\n    // 创建纹理\n    const textloader = new THREE.TextureLoader();\n    this.texture = textloader.load(\"./textures/z_11.png\");\n    this.texture.repeat.set(1, 2);\n    this.texture.wrapS = THREE.RepeatWrapping;\n    this.texture.wrapT = THREE.MirroredRepeatWrapping;\n    this.material = new THREE.MeshBasicMaterial({\n      // color: 0xfff000,\n      map: this.texture,\n      transparent: true\n    });\n\n    // 4/创建飞线物体\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n\n    // 5/创建飞线的动画\n    gsap.to(this.texture.offset, {\n      x: -1,\n      duration: 1,\n      repeat: -1,\n      ease: \"none\"\n    });\n  }\n}","map":{"version":3,"names":["THREE","gsap","FlyLine","constructor","linePoints","Vector3","lineCurve","CatmullRomCurve3","geometry","BufferGeometry","textloader","TextureLoader","texture","load","repeat","set","wrapS","RepeatWrapping","wrapT","MirroredRepeatWrapping","material","MeshBasicMaterial","map","transparent","mesh","Mesh","to","offset","x","duration","ease"],"sources":["E:/three.js/three.js-demo/three-city/city/src/three/mesh/FlyLine.js"],"sourcesContent":["import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\n\r\nexport default class FlyLine {\r\n  constructor() {\r\n    let linePoints = [\r\n      new THREE.Vector3(0, 0, 0),\r\n      new THREE.Vector3(5, 4, 0),\r\n      new THREE.Vector3(10, 0, 0),\r\n    ];\r\n    // 1/创建曲线\r\n    this.lineCurve = new THREE.CatmullRomCurve3(linePoints);\r\n    // 2/根据曲线生成管道几何体\r\n    this.geometry = new THREE.BufferGeometry(\r\n      this.lineCurve,\r\n      100,\r\n      0.4,\r\n      2,\r\n      false\r\n    );\r\n    // 3/设置飞线材质\r\n    // 创建纹理\r\n    const textloader = new THREE.TextureLoader();\r\n    this.texture = textloader.load(\"./textures/z_11.png\");\r\n    this.texture.repeat.set(1, 2);\r\n    this.texture.wrapS = THREE.RepeatWrapping;\r\n    this.texture.wrapT = THREE.MirroredRepeatWrapping;\r\n\r\n    this.material = new THREE.MeshBasicMaterial({\r\n      // color: 0xfff000,\r\n      map: this.texture,\r\n      transparent: true,\r\n    });\r\n\r\n    // 4/创建飞线物体\r\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n\r\n    // 5/创建飞线的动画\r\n    gsap.to(this.texture.offset, {\r\n      x: -1,\r\n      duration: 1,\r\n      repeat: -1,\r\n      ease: \"none\",\r\n    });\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,IAAI,MAAM,MAAM;AAEvB,eAAe,MAAMC,OAAO,CAAC;EAC3BC,WAAWA,CAAA,EAAG;IACZ,IAAIC,UAAU,GAAG,CACf,IAAIJ,KAAK,CAACK,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC1B,IAAIL,KAAK,CAACK,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC1B,IAAIL,KAAK,CAACK,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAC5B;IACD;IACA,IAAI,CAACC,SAAS,GAAG,IAAIN,KAAK,CAACO,gBAAgB,CAACH,UAAU,CAAC;IACvD;IACA,IAAI,CAACI,QAAQ,GAAG,IAAIR,KAAK,CAACS,cAAc,CACtC,IAAI,CAACH,SAAS,EACd,GAAG,EACH,GAAG,EACH,CAAC,EACD,KACF,CAAC;IACD;IACA;IACA,MAAMI,UAAU,GAAG,IAAIV,KAAK,CAACW,aAAa,CAAC,CAAC;IAC5C,IAAI,CAACC,OAAO,GAAGF,UAAU,CAACG,IAAI,CAAC,qBAAqB,CAAC;IACrD,IAAI,CAACD,OAAO,CAACE,MAAM,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC7B,IAAI,CAACH,OAAO,CAACI,KAAK,GAAGhB,KAAK,CAACiB,cAAc;IACzC,IAAI,CAACL,OAAO,CAACM,KAAK,GAAGlB,KAAK,CAACmB,sBAAsB;IAEjD,IAAI,CAACC,QAAQ,GAAG,IAAIpB,KAAK,CAACqB,iBAAiB,CAAC;MAC1C;MACAC,GAAG,EAAE,IAAI,CAACV,OAAO;MACjBW,WAAW,EAAE;IACf,CAAC,CAAC;;IAEF;IACA,IAAI,CAACC,IAAI,GAAG,IAAIxB,KAAK,CAACyB,IAAI,CAAC,IAAI,CAACjB,QAAQ,EAAE,IAAI,CAACY,QAAQ,CAAC;;IAExD;IACAnB,IAAI,CAACyB,EAAE,CAAC,IAAI,CAACd,OAAO,CAACe,MAAM,EAAE;MAC3BC,CAAC,EAAE,CAAC,CAAC;MACLC,QAAQ,EAAE,CAAC;MACXf,MAAM,EAAE,CAAC,CAAC;MACVgB,IAAI,EAAE;IACR,CAAC,CAAC;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
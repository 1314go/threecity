{"ast":null,"code":"import * as THREE from \"three\";\nimport gsap from \"gsap\";\nimport vertex from \"@/shader/lightRadar/vertex.glsl\";\nimport fragment from \"@/shader/lightRadar/fragment.glsl\";\nexport default class LightRadar {\n  constructor(radius = 2, position = {\n    x: 0,\n    z: 0\n  }, color = 0xff0000) {\n    this.geometry = new THREE.PlaneBufferGeometry(radius, radius);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: {\n        uColor: {\n          value: new THREE.Color(color)\n        },\n        uTime: {\n          value: 0\n        }\n      },\n      vertexShader: vertex,\n      fragmentShader: fragment,\n      transparent: true,\n      side: THREE.DoubleSide\n    });\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n    this.mesh.position.set(position.x, 1, position.z);\n    this.mesh.rotation.x = -Math.PI / 2;\n    gsap.to(this.material.uniforms.uTime, {\n      value: 1,\n      duration: 1,\n      repeat: -1,\n      ease: \"none\"\n    });\n  }\n  remove() {\n    this.mesh.remove();\n    this.mesh.removeFromParent();\n    this.mesh.geometry.dispose();\n    this.mesh.material.dispose();\n  }\n}","map":{"version":3,"names":["THREE","gsap","vertex","fragment","LightRadar","constructor","radius","position","x","z","color","geometry","PlaneBufferGeometry","material","ShaderMaterial","uniforms","uColor","value","Color","uTime","vertexShader","fragmentShader","transparent","side","DoubleSide","mesh","Mesh","set","rotation","Math","PI","to","duration","repeat","ease","remove","removeFromParent","dispose"],"sources":["E:/three.js/three.js-demo/three-city/city/src/three/mesh/LightRadar.js"],"sourcesContent":["import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\nimport vertex from \"@/shader/lightRadar/vertex.glsl\";\r\nimport fragment from \"@/shader/lightRadar/fragment.glsl\";\r\n\r\nexport default class LightRadar {\r\n  constructor(radius = 2, position = { x: 0, z: 0 }, color = 0xff0000) {\r\n    this.geometry = new THREE.PlaneBufferGeometry(radius, radius);\r\n    this.material = new THREE.ShaderMaterial({\r\n      uniforms: {\r\n        uColor: { value: new THREE.Color(color) },\r\n        uTime: {\r\n          value: 0,\r\n        },\r\n      },\r\n      vertexShader: vertex,\r\n      fragmentShader: fragment,\r\n      transparent: true,\r\n      side: THREE.DoubleSide,\r\n    });\r\n\r\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n    this.mesh.position.set(position.x, 1, position.z);\r\n    this.mesh.rotation.x = -Math.PI / 2;\r\n\r\n    gsap.to(this.material.uniforms.uTime, {\r\n      value: 1,\r\n      duration: 1,\r\n      repeat: -1,\r\n      ease: \"none\",\r\n    });\r\n  }\r\n\r\n  remove() {\r\n    this.mesh.remove();\r\n    this.mesh.removeFromParent();\r\n    this.mesh.geometry.dispose();\r\n    this.mesh.material.dispose();\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,MAAM,MAAM,iCAAiC;AACpD,OAAOC,QAAQ,MAAM,mCAAmC;AAExD,eAAe,MAAMC,UAAU,CAAC;EAC9BC,WAAWA,CAACC,MAAM,GAAG,CAAC,EAAEC,QAAQ,GAAG;IAAEC,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,EAAEC,KAAK,GAAG,QAAQ,EAAE;IACnE,IAAI,CAACC,QAAQ,GAAG,IAAIX,KAAK,CAACY,mBAAmB,CAACN,MAAM,EAAEA,MAAM,CAAC;IAC7D,IAAI,CAACO,QAAQ,GAAG,IAAIb,KAAK,CAACc,cAAc,CAAC;MACvCC,QAAQ,EAAE;QACRC,MAAM,EAAE;UAAEC,KAAK,EAAE,IAAIjB,KAAK,CAACkB,KAAK,CAACR,KAAK;QAAE,CAAC;QACzCS,KAAK,EAAE;UACLF,KAAK,EAAE;QACT;MACF,CAAC;MACDG,YAAY,EAAElB,MAAM;MACpBmB,cAAc,EAAElB,QAAQ;MACxBmB,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAEvB,KAAK,CAACwB;IACd,CAAC,CAAC;IAEF,IAAI,CAACC,IAAI,GAAG,IAAIzB,KAAK,CAAC0B,IAAI,CAAC,IAAI,CAACf,QAAQ,EAAE,IAAI,CAACE,QAAQ,CAAC;IACxD,IAAI,CAACY,IAAI,CAAClB,QAAQ,CAACoB,GAAG,CAACpB,QAAQ,CAACC,CAAC,EAAE,CAAC,EAAED,QAAQ,CAACE,CAAC,CAAC;IACjD,IAAI,CAACgB,IAAI,CAACG,QAAQ,CAACpB,CAAC,GAAG,CAACqB,IAAI,CAACC,EAAE,GAAG,CAAC;IAEnC7B,IAAI,CAAC8B,EAAE,CAAC,IAAI,CAAClB,QAAQ,CAACE,QAAQ,CAACI,KAAK,EAAE;MACpCF,KAAK,EAAE,CAAC;MACRe,QAAQ,EAAE,CAAC;MACXC,MAAM,EAAE,CAAC,CAAC;MACVC,IAAI,EAAE;IACR,CAAC,CAAC;EACJ;EAEAC,MAAMA,CAAA,EAAG;IACP,IAAI,CAACV,IAAI,CAACU,MAAM,CAAC,CAAC;IAClB,IAAI,CAACV,IAAI,CAACW,gBAAgB,CAAC,CAAC;IAC5B,IAAI,CAACX,IAAI,CAACd,QAAQ,CAAC0B,OAAO,CAAC,CAAC;IAC5B,IAAI,CAACZ,IAAI,CAACZ,QAAQ,CAACwB,OAAO,CAAC,CAAC;EAC9B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}